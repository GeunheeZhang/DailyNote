안녕하세요.
지아이소프트 장근희 입니다.

크롬 브라우저에 K250 관리 콘솔 띄어놨구요..
터미널에 웹 어플리케이션 설치된 서버 띄어놨습니다..

메모장으로 대화하시면 됩니다.

부장님 시작하기전에 여쭤볼게 있습니다
테스트에서 사용하던키랑
운영장비에서 생성한 키랑 
당연히 다를거 같은데
테스트에서 사용하는 키를 계속 갖고가셔야 하는 이유가 있나요?

아니요. 없습니다..
그 BCC? DB에 암호화되어 있는 데이터가
테스트 vm?에서 생성된 키를 가지고 암호화 시켜서 DB에 넣어둔것인가요?

네 그렇습니다.

그렇다면 키가 확실히 다르기때문에 안되는거 같은데
보통 테스트환경에서는 개발 완료하시고
운영으로 넘어갈때 키를 바꿔서 다시 암호화해서 DB에 넣어두시는거 같아서요

일단 키 한번 확인해보도록 하겠습니다.

네 감사합니다.

부장님 지금 제가 보는 웹화면은 vm 테스트 쪽인건가요?

아니요.. BCC 운영환경 입니다.


포트는 9000으로 잘 되어있습니다.
아마 저 TestKey가 현지에서 저렇게 만들어달라고 요청해서 만든키인데
저 키를 그대로 가져가야하는지 아니면 테스트에서 사용한 키를 사용해도 되는것인지에 대한
뭐 들은것이 있으신지요..?

저 키가 개발할때 사용한 그 키입니다.
? 어떻게요? 저키값을 export하셔서 사용하신건가요?

아니요.. 그건 아니구요.. 이름이 같다는 의미 입니다..
ㅎㅎㅎ
ㅎ 그럼 내용이 안에 키 값은 다를것 같습니다.
혹시vm환경키를 볼수있을까요?웹화면으로~

잠시만요..

이게 개발용 vm 입니다.

지금 제가 하려는 것은 vm에 있는 키가 aes-256인것은 동일한 것같으니
백업을해서 운영쪽으로 restore해보려고하는데 그러고보니 그럼
파일이 전달되어야 할텐데.. 전달이 가능하신가요?

ftp같은걸 이용해야 하나요?
그러셔도 되고 메일로 보내서 지금 운영쪽 팀뷰어 윈도우 환경에 파일을 떨궈주실분이 계실까요?

오늘은 방글라데시 휴일이라 그쪽에는 지금 사람이 없습니ㅏㄷ.

아.. 그렇다면 키를 바꿔서 다시 암호화해서 db에 넣으시는 방법밖에 없으실것 같습니다...

그것외에는 지금 할 수 있는 방법이 없을까요?

네 이것이 키 이름만 같다고 같은 키가 아니고 다른환경에서 만든키라 키값이 완전 다를거에요
그래서 아마도 키가 다르니까 bad key, bad padding하면서 오류가 나는것으로 보입니다...
개발 환경에서 사용한 키를 백업받아서 해보려고 했는데 지금 방글라데시가 휴일이라고 하시니
더이상 해볼수 있는 방법이 없는것 같습니다...

한번 연락해보겠습니다.. 
네

그쪽에 연락이 되면 제가 전화로 연락드리겠습니다..

알겠습니다

감사합니다.
부장님 폴더에 vm_key 파일을 옮겨주세요

네 잠시만 기다려주세요.

키 받았습니다..
부장님 시작할까요? 확인했습니다 키

지금 파일 비밀번호는
vm_key123 으로 지정해놓았는데 계속 안되는거 보니까 플랫폼 문제인거 같습니다
vm환경의 키랑 장비환경의 키랑 지금 뭐가 호환이 안되는건지 그런거 같은데
잠시만요..

네..
vm환경 ssh로 붙어보려고 하는데요

혹시 부장님 PC에서 vm 콘솔화면 검은화면 으로 붙어볼수 있을까요?
putty같은거 있으면 그런걸로요
잠시 자리 비우셨나요?~?

부장님 웹매니지먼트 화면 로그인할때처럼 아이디 비밀번호 입력해주세요



부장님 지금 vm환경이랑 실제 장비환경 사이에는 백업엔 리스토어가 안되는 상황이고
숨겨진 커맨드로 아까 입력한 vmbackup을 이용해서 키만 백업을 받을 수 있는데
그게 실제 장비일 경우에는 그 커맨드가 사용이 가능한 것 같습니다. (vm에서는 쓸 수 없는 커맨드인것같습니다)

아까 도중에 생각이 난건데, 키를 export해서 import 시키는 방법으로 마지막으로 해봐야할 것 같습니다.
혹시 제가 샘플 코드를 드리면 그걸 vm환경에서 한번 돌려봐주실수 있으실까요?

네..

메일 어디로 보내드릴까요? 주소

jjangadang@gmail.com 입니다.

메일 보내드렸습니다.

보내주신 파일 컴파일해서 실행시키면 될까요?

내용을 약간 바꿔야하는데 사용자 정보랑 키 이름을 바꿔야합니다.
요부분이요 vm에서 쓰시던거로 입력해주세요.

넵..

일단 이상태로 컴파일이 되는지 먼저 확인하도록 하겠습니다
컴파일 부탁드리겠습니다.

넵.. 잠시만요..

혹시 워드패드 말고 다른거 없을까요?ㅎㅎ


헐... 부장님 큰일 났습니다.
아니다
백업 안해놓았으면 큰일날뻔 했습니다.

부장님  export key라고 되어있는 부분 복사좀 부탁드립니다.

제가하려니까 안되네요

어디로 복사하면 될까요?

메모장에다가 할까요?

음.. 잠시만요..

복사가 팀뷰어라서 그런지 안되네요... ㅜㅜ
그럼 노가다를 해야겠네요 


제가 타이핑을 할테니 나중에 함께 키값이 맞는지 확인만 부탁드리겠습니다.


DB7747BDF8FB1A1E967A12D33947FA31C1E545F5A292CFA179D328A3660C7F53

DB77 47BD F8FB 1A1E 
967A 12D3 3947 FA31
C1E5 45F5 A292 CFA1
79D3 28A3 660C 7F53


잠시만요.. 방법을 찾은듯 합니다.. ㅎㅎ
DB7747BDF8FB1A1E967A12D33947FA31C1E545F5A292CFA179D328A3660C7F53

부장님 일단 키가 입포트가 된거 같긴한데
한번 프로그램 실행시켜보시겠어요?

네 알겠씁니다

됩니다!  다행이네요...ㅎㅎ흫흐흐흐 그럼 이제 문제가 

태림씨 이제 팀뷰어 꺼도 될거 같습니다
부장님과 통화햐였습니다

네 고생하셨습니다 감사합니다!!!네주말잛